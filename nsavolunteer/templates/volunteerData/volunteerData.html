{%  extends 'account/base.html' %}
{% block base_content %}

    <div class="container-fluid" style="padding: 7%">
    <h2 style="color:#C0C0C0; text-align: center; margin-bottom: 3%">User Dashboard - {{ curUser.name }}</h2>
    <p>Total individual volunteer hours: <b>{{ totalVolunteerHoursUser }}</b></p>
    Total volunteer hours for family:
    {% for famx in familySums %}
        <ul style="margin: 1%">
    <li style="margin: -1%">{{famx.family__familyName}}: <b>{{ famx.total }}</b></li>
        </ul>
    {% endfor %}

    <h4 style="margin-top: 3%; font-weight: 600; color:navy;">Volunteer Hours for {{ curYear }} school year</h4>
    {% if volHours %}
            <table class="table table-hover table-bordered table-condensed">
            <thead>
            <tr>
                {% if userFams.all > 1 %}
                <th>Family</th>
                 {% endif %}
                <th>Date</th>
                <th>Event</th>
                <th>Hours Volunteered</th>
            </tr>
            </thead>
                {% for hrs in volHours %}
            <tr>
            {% if userFams.all > 1 %}
                <td>
                    {{ hrs.family }}
                </td>
             {% endif %}
                <td>
                    {{ hrs.eventDate }}
                </td>
                <td>
                    {{ hrs.event }}
                </td>
                <td>
                    {{ hrs.volunteerHours }}
                </td>
            </tr>
                {% endfor %}
            </table>
    {% else %}
        <h4 style="color: red">You have not logged any volunteers hours.</h4>
    {% endif %}

    <h4 style="margin-top: 3%; font-weight: 600; color: navy">Reward Cards</h4>
    {% if rewardCardData %}
            <table class="table table-hover table-bordered table-condensed">
            <thead>
            <tr>
                <th>Store</th>
                <th>Refill Date</th>
                <th>Refill Value</th>
            </tr>
            </thead>
                {% for storeData in rewardCardData %}
            <tr>
                <td>
                    {{ storeData.storeName }}
                </td>
                <td>
                    {{ storeData.refillDate }}
                </td>
                <td>
                    ${{ storeData.refillValue }}
                </td>
            </tr>
                {% endfor %}
            </table>
    {% else %}
            <h4 style="color: red">You don't have any reward card purchases.</h4>
    {% endif %}



 <h4 style="margin-top: 3%; font-weight: 600; color:navy;">Volunteer Hours By School Year</h4>
    {% if histSums %}
            <table class="table table-hover table-bordered table-condensed">
            <thead>
            <tr>
                <th>School Year</th>
                <th>Total Hours</th>
            </tr>
            </thead>
                {% for yr in histSums %}
            <tr>
                <td>
                    {{ yr.schoolYear__schoolYear }}
                </td>
                <td>
                    {{ yr.total }}
                </td>
            </tr>
                {% endfor %}
            </table>
    {% else %}
        <h4 style="color: red">You have not logged any data.</h4>
    {% endif %}





</div>
{%  endblock %}